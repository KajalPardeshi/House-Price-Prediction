<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>House Price Predictor</title>


    <style>
   
        body {
        background-color: bisque;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
      }
  
      .heading{
        background-color: bisque;
        text-align: center;
  
      }

   
      h1   {color: #494949;}  /* CSS code for heading h1 */
      h2   {color: firebrick;}  /* CSS code for heading h1 */
      p   {color: yellow;}  /* CSS code for heading h1 */
  
   
   
      /* CSS code for button */
      .button_css {
      color: #494949 !important;
      text-transform: uppercase;
      text-decoration: none;
      background: #ffffff;
      padding: 20px;
      border: 4px solid #494949 !important;
      display: inline-block;
      transition: all 0.4s ease 0s;
      }
       
      .button_css:hover {
      color: #ffffff !important;
      background: #f6b93b;
      border-color: #f6b93b !important;
      transition: all 0.4s ease 0s;
      }
       
      .footer {
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: #203864;
    color: white;
    text-align: center;
     
    /* unvisited link */ 
    a:link { color: White; } 
    /* visited link */ 
    a:visited { color: #ffffff; }
  }   
    </style>



  </head>
  <div class="heading">
    <br>
    <b><h1>WELCOME TO HOUSE PRICE PREDICTOR</h1></b>
    
    <div class="container">
        <div class="card" style="width:100%; height:100%; margin-top: 50px">
            <div class="card-body">
                <form method="post" accept-charset="utf-8">
                  
                        
                        <div class="form-group" style="text-align: center">
                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the number of Bedrooms:</b></label>
                                <select class="selectpicker form-control" id="v1" name="bedrooms" required="1">
                                    {%for bedroom in bedrooms %}
                                        <option value="{{bedroom}}">{{bedroom}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the number of Bathrooms:</b></label>
                                <select class="selectpicker form-control" id="v2" name="bathrooms" required="1">
                                    {%for bathroom in bathrooms %}
                                        <option value="{{bathroom}}">{{bathroom}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="text-align: center">
                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Enter total square footage of home:</b></label>
                                <input class="form-control" type="number" id="v3" name="sqft_living" placeholder="Square footage of home">

                                </select>
                            </div>

                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the number of floors:</b></label>
                                <select class="selectpicker form-control" id="v4" name="floors" required="1">
                                    {%for floor in floors %}
                                        <option value="{{floor}}">{{floor}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="text-align: center">
                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the number of views:</b></label>
                                <select class="selectpicker form-control" id="v5" name="view" required="1">
                                    {%for view in views %}
                                        <option value="{{view}}">{{view}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Enter total Square footage above:</b></label>
                                <input class="form-control" type="number" id="v6" name="sqft_above" placeholder="Square footage above">
                            </div>
                        </div>

                        <div class="form-group" style="text-align: center">
                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Enter Square footage of basement:</b></label>
                                <input class="form-control" type="number" id="v7" name="sqft_basement" placeholder="Square footage of basement">
                            </div>

                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the city name: </b></label>
                                <select class="selectpicker form-control" id="v8" name="city" required="1">
                                    {%for city in cities %}
                                        <option value="{{city}}">{{city}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="form-group" style="text-align: center">
                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the street: </b></label>
                                <select class="selectpicker form-control" id="v9" name="street" required="1">
                                    {%for street in streets %}
                                        <option value="{{street}}">{{street}}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="col-md form-group" style="text-align: center">
                                <label><b>Select the zip code:</b></label>
                                <select class="selectpicker form-control" id="v10" name="statezip" required="1">
                                    {%for zip in zipcode %}
                                        <option value="{{zip}}">{{zip}}</option>
                                    {% endfor %}
                                </select>
                            </div>


                            <center>
                                <div class="col-md-12 form-group">
                                    <button class="btn btn-primary form-control" onclick="send_data()" type="submit" class="btn btn-primary btn-block btn-large"><strong>Predict House Price</strong></button></a>
                                </div>
                            </center>
                                 
                            </form>

                            <br>

                            <!-- Show predicted output using ML model -->
                            <div class="col-md-12" style="text-align: center">
                                <a>{{ prediction }}</a>
                            </div>

                            </div>

                            
                         </div>
                    </div>
            </div>
    


    <div class="footer">
        <p>Author: Kajal Pardeshi<br>
         
          <a href="https://www.linkedin.com/in/kajal-pardeshi-a14b681a2">LinkedIn |</a>
          <a href="https://github.com/KajalPardeshi">| GitHub</a>
        </p>
    </div>

    <script>
        function form_handler()
        {
            event.preventDefault(); //dont submit the form normally
        }
        function send_data()
        {
            document.querySelector('form').addEventListener('submit', form_handler);

            var fd = new FormData(document.querySelector('form'));

            var xhr = new XMLHttpRequest();

            xhr.open('POST', '/predict', true);
            document.getElementById('prediction').innerHTML = 'Wait Predicting Price!...';
            xhr.onreadystatechange = function(){
                if(xhr.readyState == XMLHttpRequest.DONE){
                    document.getElementById('prediction').innerHTML='Prediction: â‚¹'+xhr.responseText;
                }
            };

            xhr.onload() = function(){};
            xhr.send(fd);
        }
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
